# Upgrade Guide

::: warning
If you are using version 2, you are probably using the Laravel framework. For this some things are necessary.
::: 

### 1 - Update composer dependencies:

```bash
// If using the Laravel Framework
composer require laradumps/laradumps --dev ^3.0 -W 
```

```bash
// If using PHP Agnostic
composer require laradumps/laradumps-core --dev ^2.0 -W 
```

```bash
// If using Global LaraDump
composer global require laradumps/global-laradumps ^2.0
```

### 2 - Remove all DS_ from your .env file.

Remove all annotations from your projects in the .env.  

```php
DS_AUTO_CLEAR_ON_PAGE_RELOAD=false // [!code --]
DS_AUTO_INVOKE_APP=false // [!code --]
DS_SEND_COLOR_IN_SCREEN=false // [!code --]
DS_SEND_QUERIES=false // [!code --]
DS_SEND_LOGS_APPLICATIONS=false // [!code --]
DS_SEND_LOGS_VENDOR=false // [!code --]
DS_SEND_HTTP_CLIENT_REQUESTS=false // [!code --]
DS_SEND_JOBS=false // [!code --]
DS_SEND_CACHE=false // [!code --]
DS_SEND_COMMANDS=false // [!code --]
DS_SEND_HTTP=false // [!code --]
DS_SEND_SCHEDULED_COMMANDS=false // [!code --]
DS_SEND_GATE=false // [!code --]
DS_SEND_LOGS_DEPRECATED=false // [!code --]
DS_SEND_MAIL=false // [!code --]
DS_FILE_HANDLER=phpstorm://open?file={filepath}&line={line} // [!code --]
```

### 3 - Configure your project with the app

Download the latest application version (3.x), and open it.
In your PHP or laravel project, run the command:

* PHP ()
```shell
/vendor/bin/laradumps init $(pwd) //
```

* Laravel (using laradumps)
```shell
php artisan ds:init $(pwd)
```

::: info
Both commands will create a file in the root of the project with the name "**laradumps.yaml**", similar to this:
::: 

Or do it manually. Copy and paste these keys into your .env file"

**Generated by laradumps-core:**
```yaml
app:
  primary_host: 127.0.0.1
  secondary_host: host.docker.internal
  port: 9191
  workdir: /var/www/html/
  project_path: '~/Documents/Your-Root-Project-Path'
config:
  sleep: 0
  color_in_screen: false
  docker: false
observers:
  dump: false
  auto_invoke_app: false
```

**Generated by laradumps:**
```yaml
app:
  primary_host: 127.0.0.1
  secondary_host: host.docker.internal
  port: 9191
  workdir: /var/www/html/
  project_path: '~/Documents/Your-Root-Project-Path'
config:
  sleep: 0
  color_in_screen: false
  docker: false
observers:
  dump: false
  original_dump: false
  queries: false
  mail: false
  logs_applications: false
  logs_vendor: false
  logs_deprecated: false
  http: false
  jobs: false
  commands: false
  scheduled_commands: false
  gate: false
  cache: false
```
